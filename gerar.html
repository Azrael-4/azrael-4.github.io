<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de GRUs by Az</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        button:hover {opacity: 90%;}
    </style>
</head>
<body class="w3-content">
    <header>
        <div class="w3-dark-gray w3-container w3-center"><h2 class="w3-serif">Gerador de GRU - Biblioteca UFAL</h2></div>
    </header>
    <main>
        <div class="w3-card">
        <input type="text" id="input1" placeholder="CPF" autocomplete="on">
        <input type="text" id="input2" placeholder="Nome completo" autocomplete="on">
        <input type="number" inputmode="numeric" id="input3" placeholder="Mês de referência (ex: 01)" autocomplete="on" min="1" max="12">
        <input type="number" inputmode="numeric" id="input4" placeholder="Mês de vencimento (ex: 12)" autocomplete="on" min="1" max="12">
        <input type="number" inputmode="numeric" id="input5" placeholder="Valor (ex: 10)" autocomplete="on" min="1" max="999">
        </div>
        <br>
        <div class="w3-row">
            <button class="w3-button w3-blue w3-hover-blue w3-hover-shadow w3-padding w3-half" onclick="validar()">Gerar</button>
            <button class="w3-button w3-red w3-hover-red w3-hover-shadow w3-padding w3-half" onclick="limpar()">Limpar</button>
        </div>
        
    </main>
    <footer>
        <div class="w3-dark-gray w3-bottom w3-wide w3-center w3-content">powered by Az</div>
    </footer>
<script>
    'use strict'
    function validar() {
        let x1 = document.getElementById('input1').value;
        let x2 = document.getElementById('input2').value;
        let x3 = document.getElementById('input3').value;
        let x4 = document.getElementById('input4').value;
        let x5 = document.getElementById('input5').value;
        if ((x1 && x2 && x3 && x4 && x5) && (x3 > 0 && x4 > 0 && x5 > 0) && (x3 < 12 && x4 < 12 && x5 < 999)) {
            function submeter() {
            x2 = x2.replace(/\s+/g, '+');
            window.open("https://pagtesouro.tesouro.gov.br/api/gru/portal/boleto-gru?codigoUg=153037&codigoRecolhimento=28830-6&cpfCnpjContribuinte=" + x1 + "&nomeContribuinte=" + x2 + "&numeroReferencia=1530371522210290&competencia=" + x3 + "%2F2025&vencimento=30%2F" + x4 + "%2F2025&valorPrincipal=" + x5 + "%2C00&descontosAbatimentos=&outrasDeducoes=&moraMulta=&jurosEncargos=&outrosAcrescimos=");
            }
            submeter();
        }
        else alert("Verifique os dados e tente novamente!")
    }
    function limpar() {
        let x1 = document.getElementById('input1');
        let x2 = document.getElementById('input2');
        let x3 = document.getElementById('input3');
        let x4 = document.getElementById('input4');
        let x5 = document.getElementById('input5');
        x1.value = "";
        x2.value = "";
        x3.value = "";
        x4.value = "";
        x5.value = ""; 
    }
    function estilizarInputs() {
        let x = document.getElementsByTagName('input');
        for (let i = 0; i < x.length; i++) {
            x[i].classList.add('w3-input', 'w3-border')
        }
    }
    estilizarInputs();
</script>
</body>
</html>
